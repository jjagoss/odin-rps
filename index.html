<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>
<body>
    <script>
        let computerPlay = function() {
            /* Returns a random rock, paper, scissors */
            let num = Math.floor(Math.random() * 3);

            if (num === 1) {
                return 'rock';
            }
            else if (num === 2) {
                return 'paper';
            }
            else return 'scissors';

        };
        
        let playerScore = 0;
        let computerScore = 0;

        let playRound = function(playerSelection, computerSelection) {

            if (playerSelection === 'rock') {

                if (computerSelection === 'paper')  {
                    computerScore += 1;
                }
                else if (computerSelection === 'scissors') {
                    playerScore += 1;
                }
                else console.log("It's a draw! You both picked rock.");
            }
            
            else if (playerSelection === 'paper') {
                
                if (computerSelection === 'rock') {
                    playerScore += 1;
                }
                else if (computerSelection === 'scissors') {
                    computerScore += 1;
                }
                else  console.log("It's a draw! You both picked scissors");
            }

            else if (playerSelection === 'scissors') {

                if (computerSelection === 'rock') {
                    computerScore += 1;
                }
                else if (computerSelection === 'paper') {
                    playerScore += 1;
                }
                else console.log("It's a draw! You both picked scissors.");
            }
            return computerScore, playerScore;

        };

        let game = function() {
            let playerPick = prompt("Choose rock, paper, or scissors: ");
            playRound(playerPick, computerPlay());

            if (computerScore === 5) {
                console.log("The computer won best of 5, better luck next time");
                computerScore = 0;
                playerScore = 0;
            }

            if (playerScore === 5) {
                console.log("Congratulations! You won best of 5 against the computer");
                computerScore = 0;
                playerScore = 0;
            }
            return computerScore, playerScore;
        };

        console.log(game());
        console.log(game());
        console.log(game());
        console.log(game());
        console.log(game());
        console.log(game());
        console.log(game());
        console.log(game());
        console.log(game());

    </script>
</body>
</html>